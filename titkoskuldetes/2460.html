<!doctype html>
<html lang="hu">
<head>
Â  Â  <meta charset="utf-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=10.0, orientation=portrait">Â 
Â  Â  <title>Titkos Ãœzenet â€“ KÃ³dfejtÃ©s</title>
Â  Â  <link href="https://fonts.googleapis.com/css2?family=Play:wght@400;700&display=swap" rel="stylesheet">
Â  Â  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
Â  Â  <style>
Â  Â  Â  Â  /* AlapvetÅ‘ reszet Ã©s sÃ¶tÃ©t hÃ¡ttÃ©r */
Â  Â  Â  Â  body {
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  Â  Â  padding: 0;
Â  Â  Â  Â  Â  Â  font-family: 'Play', sans-serif;
Â  Â  Â  Â  Â  Â  /* FONTOS: SÃ¶tÃ©t tÃ©ma beÃ¡llÃ­tÃ¡sa */
Â  Â  Â  Â  Â  Â  color: #e0e0e0;Â 
Â  Â  Â  Â  Â  Â  background-color: #1a1a1a;Â 
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  min-height: 100vh;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  padding-bottom: 60px;Â 
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* ÃšJ: FekvÅ‘ tÃ¡jolÃ¡s tiltÃ¡sa, csak a portrÃ© (Ã¡llÃ³) mÃ³d lÃ¡thatÃ³ */
Â  Â  Â  Â  @media only screen and (orientation: landscape) {
Â  Â  Â  Â  Â  Â  body::after {
Â  Â  Â  Â  Â  Â  Â  Â  content: "KÃ©rlek, tartsd fÃ¼ggÅ‘legesen a telefont!";
Â  Â  Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  Â  Â  top: 0;
Â  Â  Â  Â  Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  Â  Â  Â  Â  background-color: #1a1a1a;
Â  Â  Â  Â  Â  Â  Â  Â  color: #ff4500;
Â  Â  Â  Â  Â  Â  Â  Â  font-size: 2em;
Â  Â  Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  Â  Â  z-index: 9999;
Â  Â  Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  body > *:not(style):not(script):not(.full-width-image-container) {
Â  Â  Â  Â  Â  Â  Â  Â  display: none !important;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* Teljes szÃ©lessÃ©gÅ± KÃ‰P (HÃ¡ttÃ©r) */
Â  Â  Â  Â  .full-width-image-container {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 100vh;Â 
Â  Â  Â  Â  Â  Â  overflow: hidden;
Â  Â  Â  Â  Â  Â  position: fixed;Â 
Â  Â  Â  Â  Â  Â  top: 0;
Â  Â  Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  Â  Â  z-index: 0;Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  .full-width-image-container img {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  Â  Â  object-fit: contain;Â 
Â  Â  Â  Â  Â  Â  object-position: center top;Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Tartalom doboz - FIX ALULRA ZÃRVA */
Â  Â  Â  Â  .content-box {
Â  Â  Â  Â  Â  Â  background-color: rgba(0, 0, 0, 0.7);Â 
Â  Â  Â  Â  Â  Â  padding: 40px;Â 
Â  Â  Â  Â  Â  Â  margin: 0;Â 
Â  Â  Â  Â  Â  Â  border-radius: 10px 10px 0 0;Â 
Â  Â  Â  Â  Â  Â  max-width: 800px;
Â  Â  Â  Â  Â  Â  width: calc(100% - 20px);
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 25px rgba(138, 43, 226, 0.7);
Â  Â  Â  Â  Â  Â  border: 3px solid #8a2be2;
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  Â  Â  position: fixed;Â 
Â  Â  Â  Â  Â  Â  bottom: 50px;Â 
Â  Â  Â  Â  Â  Â  left: 50%;
Â  Â  Â  Â  Â  Â  transform: translateX(-50%);Â 
Â  Â  Â  Â  Â  Â  z-index: 10;
Â  Â  Â  Â  Â  Â  text-align: left;
Â  Â  Â  Â  Â  Â  min-height: 250px;Â 
Â  Â  Â  Â  Â  Â  display: flex;Â 
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  justify-content: space-between;Â 
Â  Â  Â  Â  Â  Â  opacity: 0;Â 
Â  Â  Â  Â  Â  Â  transition: opacity 0.5s ease-in-out;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* TÃ¶rtÃ©net szÃ¶vege */
Â  Â  Â  Â  #story-text-display {
Â  Â  Â  Â  Â  Â  font-size: 1.3em;
Â  Â  Â  Â  Â  Â  font-weight: 700;
Â  Â  Â  Â  Â  Â  line-height: 1.6;
Â  Â  Â  Â  Â  Â  margin-bottom: 20px;
Â  Â  Â  Â  Â  Â  white-space: pre-wrap;Â 
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* Audio gombok... */
Â  Â  Â  Â  .audio-container {
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  margin-bottom: 15px;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .audio-button {
Â  Â  Â  Â  Â  Â  padding: 12px 20px;Â 
Â  Â  Â  Â  Â  Â  text-decoration: none;
Â  Â  Â  Â  Â  Â  color: #1a1a1a;
Â  Â  Â  Â  Â  Â  background-color: #00FFFF;Â 
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  Â  Â  font-size: 1.1em;
Â  Â  Â  Â  Â  Â  font-weight: 700;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  transition: background-color 0.3s;
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 10px rgba(0, 255, 255, 0.4);
Â  Â  Â  Â  Â  Â  display: inline-flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  gap: 8px;
Â  Â  Â  Â  }

Â  Â  Â  Â  .audio-button:hover {
Â  Â  Â  Â  Â  Â  background-color: #00DDEE;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* --- ALSÃ“ INTERAKCIÃ“S SÃV (a tÃ¶rtÃ©net gombjai) --- */
Â  Â  Â  Â  .bottom-bar {
Â  Â  Â  Â  Â  Â  padding-top: 10px;
Â  Â  Â  Â  Â  Â  border-top: 1px dashed #8a2be2;
Â  Â  Â  Â  Â  Â  min-height: 48px;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  }

Â  Â  Â  Â  .interaction-container {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: space-between;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  }

Â  Â  Â  Â  .page-button {
Â  Â  Â  Â  Â  Â  padding: 12px 20px;Â 
Â  Â  Â  Â  Â  Â  text-decoration: none;
Â  Â  Â  Â  Â  Â  color: #ffffff;
Â  Â  Â  Â  Â  Â  background-color: #8a2be2;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  Â  Â  font-size: 1.1em;
Â  Â  Â  Â  Â  Â  font-weight: 700;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  transition: background-color 0.3s, transform 0.1s;
Â  Â  Â  Â  Â  Â  text-transform: uppercase;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 10px rgba(138, 43, 226, 0.4);
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .page-button:hover:not(:disabled) {
Â  Â  Â  Â  Â  Â  background-color: #7b1cd1;
Â  Â  Â  Â  Â  Â  transform: translateY(-1px);
Â  Â  Â  Â  }

Â  Â  Â  Â  .page-button:disabled {
Â  Â  Â  Â  Â  Â  background-color: #555555;
Â  Â  Â  Â  Â  Â  cursor: not-allowed;
Â  Â  Â  Â  Â  Â  box-shadow: none;
Â  Â  Â  Â  Â  Â  opacity: 0.6;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* JelszÃ³ kontÃ©ner */
Â  Â  Â  Â  #password-container {
Â  Â  Â  Â  Â  Â  display: none;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  gap: 15px;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  }

Â  Â  Â  Â  #password-container.visible {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  #password-input {
Â  Â  Â  Â  Â  Â  padding: 12px;
Â  Â  Â  Â  Â  Â  border: 2px solid #8a2be2;
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  Â  Â  background-color: #2c2c2c;
Â  Â  Â  Â  Â  Â  color: #00ffff;
Â  Â  Â  Â  Â  Â  font-size: 1.2em;
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  Â  Â  font-family: 'Play', sans-serif;
Â  Â  Â  Â  Â  Â  margin-bottom: 5px;Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  /* A "Add meg a kÃ³dot" sor flexbe igazÃ­tva a kÃ©rdÅ‘jellel */
Â  Â  Â  Â  #password-container p {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  gap: 10px;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .password-interaction {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: space-between;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  gap: 10px;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  }

Â  Â  Â  Â  #check-password-button, #back-button-password {
Â  Â  Â  Â  Â  Â  padding: 12px 20px;Â 
Â  Â  Â  Â  Â  Â  font-size: 1.1em;Â 
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  #back-button-password {
Â  Â  Â  Â  Â  Â  color: #ffffff;
Â  Â  Â  Â  Â  Â  background-color: #8a2be2;Â 
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  #check-password-button {
Â  Â  Â  Â  Â  Â  color: #ffffff;
Â  Â  Â  Â  Â  Â  background-color: #00ffff;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 10px rgba(0, 255, 255, 0.4);Â 
Â  Â  Â  Â  Â  Â  flex-grow: 1;Â 
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  #check-password-button:hover {
Â  Â  Â  Â  Â  Â  background-color: #00ddee;
Â  Â  Â  Â  Â  Â  transform: translateY(-1px);Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  #message {
Â  Â  Â  Â  Â  Â  margin-top: 10px;
Â  Â  Â  Â  Â  Â  font-weight: 700;
Â  Â  Â  Â  Â  Â  color: #ff4500;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Avatar kÃ©p */
Â  Â  Â  Â  .avatar-image {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  top: -50px;Â 
Â  Â  Â  Â  Â  Â  left: -10px;Â 
Â  Â  Â  Â  Â  Â  width: 70px;Â 
Â  Â  Â  Â  Â  Â  height: 70px;Â 
Â  Â  Â  Â  Â  Â  border-radius: 50%;Â 
Â  Â  Â  Â  Â  Â  object-fit: cover;Â 
Â  Â  Â  Â  Â  Â  z-index: 20;Â 
Â  Â  Â  Â  Â  Â  display: block;Â 
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 8px rgba(0, 255, 255, 0.5);Â 
Â  Â  Â  Â  Â  Â  transition: opacity 0.3s ease-in-out;Â 
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* --- FIX ALSÃ“ MENÃœSOR --- */
Â  Â  Â  Â  .fixed-menu-bar {
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  bottom: 0;
Â  Â  Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 50px;
Â  Â  Â  Â  Â  Â  background-color: #1a1a1a;
Â  Â  Â  Â  Â  Â  border-top: 2px solid #8a2be2;
Â  Â  Â  Â  Â  Â  z-index: 50;Â 
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: space-around;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  box-shadow: 0 -4px 15px rgba(138, 43, 226, 0.5);
Â  Â  Â  Â  }

Â  Â  Â  Â  .menu-button {
Â  Â  Â  Â  Â  Â  background: none;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  color: #ffffff;
Â  Â  Â  Â  Â  Â  font-size: 1.5em;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  padding: 5px 10px;
Â  Â  Â  Â  Â  Â  transition: color 0.3s;
Â  Â  Â  Â  }

Â  Â  Â  Â  .menu-button:hover {
Â  Â  Â  Â  Â  Â  color: #00ffff;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* --- GALÃ‰RIA MODAL STÃLUSOK --- */
Â  Â  Â  Â  #galleryModal {
Â  Â  Â  Â  Â  Â  display: none;Â 
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  z-index: 100;Â 
Â  Â  Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  Â  Â  top: 0;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  Â  Â  overflow-y: scroll;Â 
Â  Â  Â  Â  Â  Â  background-color: rgba(0, 0, 0, 0.95);
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* ÃšJ: FÅ‘ galÃ©ria nÃ©zet (bÃ©lyegkÃ©pek) */
Â  Â  Â  Â  #gallery-container {
Â  Â  Â  Â  Â  Â  display: grid;
Â  Â  Â  Â  Â  Â  grid-template-columns: 1fr 1fr;Â 
Â  Â  Â  Â  Â  Â  gap: 10px;
Â  Â  Â  Â  Â  Â  padding: 15px;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  max-width: 800px;
Â  Â  Â  Â  Â  Â  margin: 0 auto;
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  }

Â  Â  Â  Â  .gallery-thumbnail {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 150px;Â 
Â  Â  Â  Â  Â  Â  overflow: hidden;
Â  Â  Â  Â  Â  Â  border: 2px solid #8a2be2;
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 10px rgba(138, 43, 226, 0.4);
Â  Â  Â  Â  Â  Â  transition: transform 0.2s;
Â  Â  Â  Â  }

Â  Â  Â  Â  .gallery-thumbnail:hover {
Â  Â  Â  Â  Â  Â  transform: scale(1.03);
Â  Â  Â  Â  }

Â  Â  Â  Â  .gallery-thumbnail img {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  Â  Â  object-fit: cover;Â 
Â  Â  Â  Â  Â  Â  display: block;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* Teljes kÃ©pernyÅ‘s modÃ¡l kontÃ©ner a zoomolhatÃ³ kÃ©pnek */
Â  Â  Â  Â  #full-image-display {
Â  Â  Â  Â  Â  Â  display: none;
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  z-index: 101;
Â  Â  Â  Â  Â  Â  top: 0;
Â  Â  Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  Â  Â  background-color: rgba(0, 0, 0, 0.98);
Â  Â  Â  Â  Â  Â  overflow: auto;Â 
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .full-image-content {
Â  Â  Â  Â  Â  Â  width: 100vw;Â 
Â  Â  Â  Â  Â  Â  height: 100vh;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;Â 
Â  Â  Â  Â  Â  Â  justify-content: center;Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  #fullImageDisplay {
Â  Â  Â  Â  Â  Â  /* KÃ©p zoomolhatÃ³sÃ¡g beÃ¡llÃ­tÃ¡sa */
Â  Â  Â  Â  Â  Â  display: block;
Â  Â  Â  Â  Â  Â  width: auto;Â 
Â  Â  Â  Â  Â  Â  height: auto;
Â  Â  Â  Â  Â  Â  max-width: 100%;Â 
Â  Â  Â  Â  Â  Â  max-height: 100%;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  touch-action: pan-x pan-y;Â 
Â  Â  Â  Â  Â  Â  cursor: move;
Â  Â  Â  Â  Â  Â  margin: auto;
Â  Â  Â  Â  }


Â  Â  Â  Â  .close-gallery {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  top: 15px;
Â  Â  Â  Â  Â  Â  right: 33px;
Â  Â  Â  Â  Â  Â  color: #f1f1f1;
Â  Â  Â  Â  Â  Â  font-size: 40px;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  transition: 0.3s;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  z-index: 110;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .close-gallery:hover,
Â  Â  Â  Â  .close-gallery:focus {
Â  Â  Â  Â  Â  Â  color: #00ffff;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* A navigÃ¡ciÃ³s gombok eltÃ¡volÃ­tva a modÃ¡lbÃ³l */
Â  Â  Â  Â  .gallery-nav {
Â  Â  Â  Â  Â  Â  display: none;Â 
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* --- SÃšGÃ“ (HELP) MODAL STÃLUSOK (ÃšJ) --- */
Â  Â  Â  Â  #help-modal {
Â  Â  Â  Â  Â  Â  display: none;
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  z-index: 200; /* LegfelÃ¼l legyen */
Â  Â  Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  Â  Â  top: 0;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  Â  Â  overflow: auto;
Â  Â  Â  Â  Â  Â  background-color: rgba(0, 0, 0, 0.9);
Â  Â  Â  Â  Â  Â  backdrop-filter: blur(5px);
Â  Â  Â  Â  }

Â  Â  Â  Â  .help-content {
Â  Â  Â  Â  Â  Â  background-color: #1a1a1a;
Â  Â  Â  Â  Â  Â  margin: 30% auto; /* KÃ¶zÃ©pre igazÃ­tÃ¡s */
Â  Â  Â  Â  Â  Â  padding: 30px;
Â  Â  Â  Â  Â  Â  border: 3px solid #00ffff;
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  width: 80%;
Â  Â  Â  Â  Â  Â  max-width: 400px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
Â  Â  Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  }

Â  Â  Â  Â  #help-text-display {
Â  Â  Â  Â  Â  Â  font-size: 1.2em;
Â  Â  Â  Â  Â  Â  font-weight: 700;
Â  Â  Â  Â  Â  Â  color: #e0e0e0;
Â  Â  Â  Â  Â  Â  margin-bottom: 25px;
Â  Â  Â  Â  Â  Â  min-height: 80px;
Â  Â  Â  Â  }

Â  Â  Â  Â  #help-next-button, #help-close-button {
Â  Â  Â  Â  Â  Â  /* ÃltalÃ¡nos stÃ­lus a sÃºgÃ³ gomboknak */
Â  Â  Â  Â  Â  Â  padding: 10px 25px;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  border-radius: 5px;
Â  Â  Â  Â  Â  Â  font-size: 1.1em;
Â  Â  Â  Â  Â  Â  font-weight: 700;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  transition: background-color 0.3s;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  #help-next-button {
Â  Â  Â  Â  Â  Â  background-color: #00ffff;
Â  Â  Â  Â  Â  Â  color: #1a1a1a;
Â  Â  Â  Â  }

Â  Â  Â  Â  #help-next-button:hover {
Â  Â  Â  Â  Â  Â  background-color: #00ddee;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  #help-close-button:hover {
Â  Â  Â  Â  Â  Â  background-color: #777777 !important;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* SÃºgÃ³ ikon a kÃ³dbevitelhez */
Â  Â  Â  Â  .help-icon {
Â  Â  Â  Â  Â  Â  background: none;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  color: #00ffff;
Â  Â  Â  Â  Â  Â  font-size: 1.5em;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  line-height: 0; /* MegakadÃ¡lyozza, hogy megnyomja a kÃ¶rnyezÅ‘ szÃ¶veg sortÃ¡volsÃ¡gÃ¡t */
Â  Â  Â  Â  }
Â  Â  </style>
</head>
<body oncontextmenu="return false;">Â 
Â  Â  <div class="full-width-image-container">
Â  Â  Â  Â  <img id="story-image" src="titkoskuldetes/Img/1757480990.jpg" alt="Titokzatos jelenet">
Â  Â  </div>

Â  Â  <div class="content-box" id="content-box">
Â  Â  Â  Â  <img id="avatar-img" class="avatar-image" src="https://github.com/treasurehuntsites/treasurehuntsites.github.io/blob/main/Img/1740218605.png?raw=true" alt="SzereplÅ‘ avatar">
Â  Â  Â  Â Â 
Â  Â  Â  Â  <p id="story-text-display"></p>
Â  Â  Â  Â Â 
Â  Â  Â  Â  <div id="audio-container-1" class="audio-container" style="display:none;">
Â  Â  Â  Â  Â  Â  Â <button id="play-audio-button-1" class="audio-button">â–¶ï¸ LejÃ¡tszÃ¡s (1)</button>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div id="audio-container-2" class="audio-container" style="display:none;">
Â  Â  Â  Â  Â  Â  Â <button id="play-audio-button-2" class="audio-button">â–¶ï¸ LejÃ¡tszÃ¡s (2)</button>
Â  Â  Â  Â  </div>


Â  Â  Â  Â  <div class="bottom-bar">
Â  Â  Â  Â  Â  Â  <div class="interaction-container" id="interaction-container">
Â  Â  Â  Â  Â  Â  Â  Â  <button id="prev-page-button" class="page-button" disabled>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Vissza
Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <button id="next-page-button" class="page-button">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  FolytatÃ¡s
Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div id="password-container">
Â  Â  Â  Â  Â  Â  Â  Â  <p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Add meg a kÃ³dot:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="help-button" class="help-icon" title="SegÃ­tsÃ©g">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <i class="fa-solid fa-circle-question"></i>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  </p>
Â  Â  Â  Â  Â  Â  Â  Â  <input type="password" id="password-input" maxlength="4">
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div class="password-interaction">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="back-button-password" class="page-button">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Vissza
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="check-password-button" class="page-button">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ELLENÅRZÃ‰S
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <p id="message"></p>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>
Â  Â Â 
Â  Â  <div class="fixed-menu-bar">
Â  Â  Â  Â  <button id="map-button" class="menu-button" title="TÃ©rkÃ©p">
Â  Â  Â  Â  Â  Â  <i class="fa-solid fa-map-location-dot"></i>
Â  Â  Â  Â  </button>
Â  Â  Â  Â Â 
Â  Â  Â  Â  <button id="image-button" class="menu-button" title="KÃ©pgalÃ©ria">
Â  Â  Â  Â  Â  Â  <i class="fa-solid fa-image"></i>
Â  Â  Â  Â  </button>
Â  Â  </div>
Â  Â Â 
Â  Â  <div id="galleryModal">
Â  Â  Â  <span class="close-gallery" onclick="history.back();">Ã—</span>
Â  Â  Â  <div id="gallery-container">
Â  Â  Â  Â  Â  Â  </div>
Â  Â  </div>
Â  Â Â 
Â  Â  <div id="full-image-display">
Â  Â  Â  Â  <div class="full-image-content">
Â  Â  Â  Â  Â  Â  <img id="fullImageDisplay" src="" alt="NagyÃ­tott kÃ©p" />
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <span class="close-gallery" style="z-index: 120;" onclick="history.back();">Ã—</span>
Â  Â  </div>
Â  Â Â 
Â  Â  <div id="help-modal">
Â  Â  Â  Â  <div class="help-content">
Â  Â  Â  Â  Â  Â  <p id="help-text-display"></p>
Â  Â  Â  Â  Â  Â  <div style="display: flex; justify-content: space-between; gap: 10px;">
Â  Â  Â  Â  Â  Â  Â  Â  <button id="help-close-button" class="page-button" style="flex-grow: 1; background-color: #555555; color: #ffffff;">BezÃ¡rÃ¡s</button>
Â  Â  Â  Â  Â  Â  Â  Â  <button id="help-next-button" class="page-button" style="flex-grow: 1; background-color: #00ffff; color: #1a1a1a;">TovÃ¡bb</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  </div>

Â  Â Â 
Â  Â  <audio id="story-audio-1" src="https://raw.githubusercontent.com/treasurehuntsites/treasurehuntsites.github.io/main/media/Ugynokok1.mp3" preload="auto"></audio>
Â  Â  <audio id="story-audio-2" src="https://raw.githubusercontent.com/treasurehuntsites/treasurehuntsites.github.io/main/media/Ugynokok2.mp3" preload="auto"></audio>

Â  Â  <script>
Â  Â  Â  Â  // KÃ‰P URL-ek
Â  Â  Â  Â  // EREDETI HÃTTÃ‰RKÃ‰P PATH MÃ“DOSÃTVA
Â  Â  Â  Â  const STABLE_IMAGE_URL = "titkoskuldetes/Img/1757480990.jpg";Â  
Â  Â  Â  Â  const MARK_AVATAR_URL = "https://github.com/treasurehuntsites/treasurehuntsites.github.io/blob/main/Img/1740218605.png?raw=true";
Â  Â  Â  Â  const ANNA_AVATAR_URL = "https://content.actionbound.com/user/5d77f26bdf17445d808bcb28/image/1740219075.png";
Â  Â  Â  Â  const PUZZLE_IMAGE_URL = "Img/1757454039.jpg";Â 

Â  Â  Â  Â  // GALÃ‰RIA KÃ‰PEK LISTÃJA
Â  Â  Â  Â  const galleryImages = [
Â  Â  Â  Â  Â  Â  { url: "titkoskuldetes/Img/1757450864.jpg", title: "Titkos rejtjel" },
Â  Â  Â  Â  Â  Â  { url: "titkoskuldetes/Img/1757450882.jpg", title: "RÃ©gi feljegyzÃ©s" },
Â  Â  Â  Â  Â  Â  { url: "titkoskuldetes/Img/1757450898.jpg", title: "Szobor talapzata" }
Â  Â  Â  Â  ];
Â  Â  Â  Â  let currentGalleryIndex = 0;


Â  Â  Â  Â  // ğŸ›‘ TÃ–RTÃ‰NETRÃ‰SZEKÂ 
Â  Â  Â  Â  const storyPages = [
Â  Â  Â  Â  Â  Â  // Dialogue
Â  Â  Â  Â  Â  Â  { type: 'text', content: `NÃ©zd MÃ¡rk, milyen papÃ­rokat talÃ¡ltam!`, speaker: 'Anna', image: STABLE_IMAGE_URL },Â 
Â  Â  Â  Â  Â  Â  { type: 'text', content: `HÃ¡t ezek meg mit jelenthetnek??`, speaker: 'Mark', image: STABLE_IMAGE_URL },Â 
Â  Â  Â  Â  Â  Â  { type: 'text', content: `Lehet, hogy egy kÃ©sÅ‘bbi feladatnÃ¡l mÃ©g hasznÃ¡t vehetjÃ¼k!`, speaker: 'Anna', image: STABLE_IMAGE_URL },Â 
Â  Â  Â  Â  Â  Â  { type: 'text', content: `MÃ¡rk! Ãšjabb Ã¼zenet a VizualizÃ¡tortÃ³l!`, speaker: 'Anna', image: STABLE_IMAGE_URL },Â 
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Narration
Â  Â  Â  Â  Â  Â  { type: 'text', content: `A KÃ¶lcsey utcÃ¡tÃ³l nem messze, egy rÃ©gi kÅ‘keresztezÅ‘dÃ©sben Ã¡llt a Nepomuki Szent JÃ¡nos-szobor.`, speaker: 'Narrator', image: STABLE_IMAGE_URL },Â 
Â  Â  Â  Â  Â  Â  { type: 'text', content: `Az emberek tÃ¶bbsÃ©ge csak Ã¡hÃ­tattal keresztet vetett elÅ‘tte â€“ hiszen Nepomuki a folyÃ³k, hidak, vÃ­zen Ã¡tkelÅ‘k vÃ©dÅ‘szentje volt.`, speaker: 'Narrator', image: STABLE_IMAGE_URL },Â 
Â  Â  Â  Â  Â  Â  { type: 'text', content: `Ãm a kÃ¶rnyÃ©k Ã¶regjei mindig suttogva tettek hozzÃ¡ valamit: â€Ez a szobor nemcsak a vÃ­ztÅ‘l vÃ©dett.â€`, speaker: 'Narrator', image: STABLE_IMAGE_URL },Â 
Â  Â  Â  Â  Â  Â  { type: 'text', content: `A legenda szerint a 19. szÃ¡zadban, amikor Budafok mÃ©g Promontor nÃ©ven volt ismert, a szobor talapzatÃ¡ba egy titkos rekeszt Ã©pÃ­tettek.`, speaker: 'Narrator', image: STABLE_IMAGE_URL },Â 
Â  Â  Â  Â  Â  Â  { type: 'text', content: `A szÅ‘lÅ‘sgazdÃ¡k Ã©s kereskedÅ‘k itt hagytÃ¡k a kÃ³dolt Ã¼zeneteiket egymÃ¡snak, nehogy a vÃ¡mosok vagy a rivÃ¡lisok lefÃ¼leljÃ©k Å‘ket.`, speaker: 'Narrator', image: STABLE_IMAGE_URL },Â 
Â  Â  Â  Â  Â  Â  { type: 'text', content: `AztÃ¡n jÃ¶tt a hÃ¡borÃº.`, speaker: 'Narrator', image: STABLE_IMAGE_URL },Â 
Â  Â  Â  Â  Â  Â  { type: 'text', content: `A mÃ¡sodik vilÃ¡ghÃ¡borÃº alatt a szobor mÃ¡r nemcsak a helyiek titkos postÃ¡ja volt, hanem kÃ©mek talÃ¡lkozÃ³pontja is.`, speaker: 'Narrator', image: STABLE_IMAGE_URL },Â 
Â  Â  Â  Â  Â  Â  { type: 'text', content: `A legenda Ãºgy tartja, hogy ha valaki a szobor bronzkeresztjÃ©t meghÃºzta, egy aprÃ³ vasfÃ¼lke nyÃ­lt a kÅ‘alapzat oldalÃ¡n.`, speaker: 'Narrator', image: STABLE_IMAGE_URL },Â 
Â  Â  Â  Â  Â  Â  { type: 'text', content: `Ide rejtettek el filmtekercseket, kÃ³dolt Ã¼zeneteket, sÅ‘t egyszer mÃ©g egy titkos tÃ©rkÃ©pet is, amely a Duna alatti csatornajÃ¡ratokat mutatta.`, speaker: 'Narrator', image: STABLE_IMAGE_URL },Â 
Â  Â  Â  Â  Â  Â  { type: 'text', content: `A hideghÃ¡borÃº idejÃ©n az ÃVH Ã©s a nyugati Ã¼gynÃ¶kÃ¶k egyarÃ¡nt figyeltÃ©k a szobrot.`, speaker: 'Narrator', image: STABLE_IMAGE_URL },Â 
Â  Â  Â  Â  Â  Â  { type: 'text', content: `Egykori besÃºgÃ³k szerint minden hÃ³nap 13-Ã¡n, Ã©jfÃ©lkor valaki mindig megjelent a Nepomuki lÃ¡bÃ¡nÃ¡l, Ã©s cserÃ©lt valamit a rejtekben.`, speaker: 'Narrator', image: STABLE_IMAGE_URL },Â 
Â  Â  Â  Â  Â  Â  { type: 'text', content: `Hogy mi volt az?`, speaker: 'Narrator', image: STABLE_IMAGE_URL },Â 
Â  Â  Â  Â  Â  Â  { type: 'text', content: `Senki sem tudja.`, speaker: 'Narrator', image: STABLE_IMAGE_URL },Â 
Â  Â  Â  Â  Â  Â  { type: 'text', content: `Egyesek szerint csak Ã¼res papÃ­rlapok â€“ hogy Ã¶sszezavarjÃ¡k az ellensÃ©get.`, speaker: 'Narrator', image: STABLE_IMAGE_URL },Â 
Â  Â  Â  Â  Â  Â  { type: 'text', content: `MÃ¡sok szerint valÃ³di titkok: atomkÃ­sÃ©rletek helyszÃ­nei, fedÅ‘nevek, vagy Ã©pp Ã¼gynÃ¶kÃ¶k valÃ³di szemÃ©lyazonossÃ¡ga.`, speaker: 'Narrator', image: STABLE_IMAGE_URL },Â 
Â  Â  Â  Â  Â  Â  { type: 'text', content: `Ma mÃ¡r sokan azt hiszik, a szobor pusztÃ¡n vallÃ¡si emlÃ©k.`, speaker: 'Narrator', image: STABLE_IMAGE_URL },Â 
Â  Â  Â  Â  Â  Â  { type: 'text', content: `De a kÃ¶rnyÃ©kbeli gyerekek mÃ©g mindig azt mesÃ©lik egymÃ¡snak, hogy ha a telihold fÃ©nyÃ©ben halkan odasÃºgod a szobornak egy titkodat, a szobor halkan vissza suttogta azt.`, speaker: 'Narrator', image: STABLE_IMAGE_URL },Â 
Â  Â  Â  Â  Â  Â  { type: 'text', content: `Ã‰s ki tudja?`, speaker: 'Narrator', image: STABLE_IMAGE_URL },Â 
Â  Â  Â  Â  Â  Â  { type: 'text', content: `TalÃ¡n egyszer valaki valÃ³ban megtalÃ¡lja a vasajtÃ³t a talapzat mÃ©lyÃ©n, Ã©s vele egyÃ¼tt egy egÃ©sz korszak elfeledett Ã¼zeneteit.`, speaker: 'Narrator', image: STABLE_IMAGE_URL },Â 
Â  Â  Â  Â  Â  Â  { type: 'text', content: `KeressÃ©tek meg a 4 jegyÅ± szÃ¡mkÃ³dot a talpazaton.`, speaker: 'Narrator', image: STABLE_IMAGE_URL }Â  // <-- UTOLSÃ“ MONDAT: BEVEZETÃ‰S A KÃ“DBEVITELHEZ
Â  Â  Â  Â  ];


Â  Â  Â  Â  let currentPartIndex = 0;
Â  Â  Â  Â  const CORRECT_PASSWORD = "2460";Â 
Â  Â  Â  Â  const SUCCESS_LINK = "2460.html";Â 
Â  Â  Â  Â Â 
Â  Â  Â  Â  // ğŸ›‘ MÃ“DOSÃTOTT: SEGÃTSÃ‰G ADATOK Ã‰S ÃLLAPOT
Â  Â  Â  Â  const HELP_MESSAGES = [
Â  Â  Â  Â  Â  Â  "A szobroknak kÃ¶zÃ¼k lehet a szÃ¡mkÃ³dos megoldÃ¡shoz.",
Â  Â  Â  Â  Â  Â  "Lehet, hogy fontos merre nÃ©znek?",
Â  Â  Â  Â  Â  Â  "A segÃ­tsÃ©gnek Ã¡ra van. VigyÃ¡zz , mert ha nem Ã©rsz el 50 pontot a jÃ¡tÃ©k vÃ©gÃ©ig, nem tudod a jÃ¡tÃ©kot befejezni. A kÃ³d: 2460"
Â  Â  Â  Â  ];
Â  Â  Â  Â  let currentHelpIndex = 0;
Â  Â  Â  Â Â 
Â  Â  Â  Â  // DOM elemek
Â  Â  Â  Â  const contentBox = document.getElementById('content-box');
Â  Â  Â  Â  const storyDisplay = document.getElementById('story-text-display');
Â  Â  Â  Â  const nextButton = document.getElementById('next-page-button');
Â  Â  Â  Â  const prevButton = document.getElementById('prev-page-button');
Â  Â  Â  Â  const interactionContainer = document.getElementById('interaction-container');Â 
Â  Â  Â  Â  const passwordContainer = document.getElementById('password-container');Â 
Â  Â  Â  Â  const backButtonPassword = document.getElementById('back-button-password');Â 

Â  Â  Â  Â  const passwordInput = document.getElementById('password-input');
Â  Â  Â  Â  const checkButton = document.getElementById('check-password-button');
Â  Â  Â  Â  const messageDisplay = document.getElementById('message');
Â  Â  Â  Â  const storyImage = document.getElementById('story-image');Â 
Â  Â  Â  Â Â 
Â  Â  Â  Â  const storyAudio1 = document.getElementById('story-audio-1');
Â  Â  Â  Â  const playAudioButton1 = document.getElementById('play-audio-button-1');
Â  Â  Â  Â  const audioContainer1 = document.getElementById('audio-container-1');
Â  Â  Â  Â Â 
Â  Â  Â  Â  const storyAudio2 = document.getElementById('story-audio-2');
Â  Â  Â  Â  const playAudioButton2 = document.getElementById('play-audio-button-2');
Â  Â  Â  Â Â 
Â  Â  Â  Â  const audioContainer2 = document.getElementById('audio-container-2');Â 
Â  Â  Â  Â Â 
Â  Â  Â  Â  const avatarImg = document.getElementById('avatar-img');
Â  Â  Â  Â Â 
Â  Â  Â  Â  const imageButton = document.getElementById('image-button');
Â  Â  Â  Â  const mapButton = document.getElementById('map-button');Â 

Â  Â  Â  Â  // GALÃ‰RIA DOM elemek
Â  Â  Â  Â  const galleryModal = document.getElementById('galleryModal');
Â  Â  Â  Â  const galleryContainer = document.getElementById('gallery-container');
Â  Â  Â  Â Â 
Â  Â  Â  Â  // NagyÃ­tott kÃ©phez tartozÃ³ elemek
Â  Â  Â  Â  const fullImageDisplayModal = document.getElementById('full-image-display');
Â  Â  Â  Â  const fullImageDisplay = document.getElementById('fullImageDisplay');
Â  Â  Â  Â Â 
Â  Â  Â  Â  // ğŸ›‘ MÃ“DOSÃTOTT: SÃºgÃ³ DOM elemek
Â  Â  Â  Â  const helpButton = document.getElementById('help-button');
Â  Â  Â  Â  const helpModal = document.getElementById('help-modal');
Â  Â  Â  Â  const helpTextDisplay = document.getElementById('help-text-display');
Â  Â  Â  Â  const helpNextButton = document.getElementById('help-next-button');
Â  Â  Â  Â  const helpCloseButton = document.getElementById('help-close-button'); // ÃšJ

Â  Â  Â  Â  // --- SegÃ©d FÃœGGVÃ‰NYEK ---

Â  Â  Â  Â  function saveProgress() {
Â  Â  Â  Â  Â  Â  localStorage.setItem('gameProgress', currentPartIndex);
Â  Â  Â  Â  }

Â  Â  Â  Â  function loadProgress() {
Â  Â  Â  Â  Â  Â  const savedIndex = localStorage.getItem('gameProgress');
Â  Â  Â  Â  Â  Â  if (savedIndex !== null) {
Â  Â  Â  Â  Â  Â  Â  Â  currentPartIndex = Math.min(parseInt(savedIndex), storyPages.length);Â 
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  currentPartIndex = 0;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  function stopAllAudio() {
Â  Â  Â  Â  Â  Â  Â storyAudio1.pause();
Â  Â  Â  Â  Â  Â  Â storyAudio1.currentTime = 0;
Â  Â  Â  Â  Â  Â  Â playAudioButton1.innerHTML = "â–¶ï¸ LejÃ¡tszÃ¡s (1)";
Â  Â  Â  Â  Â  Â  Â 
Â  Â  Â  Â  Â  Â  Â storyAudio2.pause();
Â  Â  Â  Â  Â  Â  Â storyAudio2.currentTime = 0;
Â  Â  Â  Â  Â  Â  Â playAudioButton2.innerHTML = "â–¶ï¸ LejÃ¡tszÃ¡s (2)";
Â  Â  Â  Â  }

Â  Â  Â  Â  function toggleAudio(audioElement, buttonElement, buttonText) {
Â  Â  Â  Â  Â  Â  if (audioElement.paused) {
Â  Â  Â  Â  Â  Â  Â  Â  stopAllAudio();Â 
Â  Â  Â  Â  Â  Â  Â  Â  audioElement.play().catch(error => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error('Autoplay failed, user interaction needed.', error);
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  buttonElement.innerHTML = `â¸ï¸ SzÃ¼net (${buttonText})`;
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  audioElement.pause();
Â  Â  Â  Â  Â  Â  Â  Â  buttonElement.innerHTML = `â–¶ï¸ LejÃ¡tszÃ¡s (${buttonText})`;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  // GALÃ‰RIA FUNKCIÃ“K (vÃ¡ltozatlan)
Â  Â  Â  Â  function populateGallery() {
Â  Â  Â  Â  Â  Â  galleryContainer.innerHTML = '';Â 
Â  Â  Â  Â  Â  Â  galleryImages.forEach((image, index) => {
Â  Â  Â  Â  Â  Â  Â  Â  const thumbnailDiv = document.createElement('div');
Â  Â  Â  Â  Â  Â  Â  Â  thumbnailDiv.className = 'gallery-thumbnail';
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  const img = document.createElement('img');
Â  Â  Â  Â  Â  Â  Â  Â  img.src = image.url;
Â  Â  Â  Â  Â  Â  Â  Â  img.alt = image.title;
Â  Â  Â  Â  Â  Â  Â  Â  img.dataset.index = index;
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  thumbnailDiv.onclick = () => openFullImage(image.url);
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  thumbnailDiv.appendChild(img);
Â  Â  Â  Â  Â  Â  Â  Â  galleryContainer.appendChild(thumbnailDiv);
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  function openFullImage(imageUrl) {
Â  Â  Â  Â  Â  Â  fullImageDisplay.src = imageUrl;
Â  Â  Â  Â  Â  Â  fullImageDisplayModal.style.display = 'block';
Â  Â  Â  Â  Â  Â  galleryModal.style.display = 'none';Â 
Â  Â  Â  Â  Â  Â  history.pushState(null, null, '#full-image');
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  function closeFullImage() {
Â  Â  Â  Â  Â  Â  fullImageDisplayModal.style.display = 'none';
Â  Â  Â  Â  }

Â  Â  Â  Â  function openGallery() {
Â  Â  Â  Â  Â  Â  populateGallery();Â 
Â  Â  Â  Â  Â  Â  galleryModal.style.display = "block";
Â  Â  Â  Â  Â  Â  history.pushState(null, null, '#gallery');
Â  Â  Â  Â  }

Â  Â  Â  Â  function closeGallery() {
Â  Â  Â  Â  Â  Â  galleryModal.style.display = "none";
Â  Â  Â  Â  Â  Â  fullImageDisplayModal.style.display = 'none';Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  // --- SÃšGÃ“ FUNKCIÃ“K (MÃ“DOSÃTVA) ---

Â  Â  Â  Â  function closeHelpModal() {
Â  Â  Â  Â  Â  Â  helpModal.style.display = 'none';
Â  Â  Â  Â  }

Â  Â  Â  Â  function showHelpMessage() {
Â  Â  Â  Â  Â  Â  if (currentHelpIndex < HELP_MESSAGES.length) {
Â  Â  Â  Â  Â  Â  Â  Â  helpTextDisplay.textContent = HELP_MESSAGES[currentHelpIndex];
Â  Â  Â  Â  Â  Â  Â  Â  helpModal.style.display = 'block';
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // Gombok lÃ¡thatÃ³sÃ¡ga Ã©s felirata
Â  Â  Â  Â  Â  Â  Â  Â  if (currentHelpIndex === HELP_MESSAGES.length - 1) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  helpNextButton.textContent = 'Ã‰rtem';
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  helpNextButton.textContent = 'TovÃ¡bb';
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  // Ha elfogyott a segÃ­tsÃ©g, csak zÃ¡rjuk be a modÃ¡lt
Â  Â  Â  Â  Â  Â  Â  Â  closeHelpModal();
Â  Â  Â  Â  Â  Â  Â  Â  currentHelpIndex = HELP_MESSAGES.length - 1; // Maradjon az utolsÃ³ indexen
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  function nextHelpStep() {
Â  Â  Â  Â  Â  Â  if (currentHelpIndex < HELP_MESSAGES.length - 1) {
Â  Â  Â  Â  Â  Â  Â  Â  currentHelpIndex++;
Â  Â  Â  Â  Â  Â  Â  Â  showHelpMessage();
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  // ZÃ¡rÃ¡s, ha az utolsÃ³ segÃ­tsÃ©g is megvolt (az "Ã‰rtem" gomb funkciÃ³ja)
Â  Â  Â  Â  Â  Â  Â  Â  closeHelpModal();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  // MÃ“DOSÃTVA: EsemÃ©nykezelÅ‘ a bÃ¶ngÃ©szÅ‘ Vissza gombjÃ¡ra (ModÃ¡lok zÃ¡rÃ¡sa)
Â  Â  Â  Â  window.addEventListener('popstate', function(event) {
Â  Â  Â  Â  Â  Â  if (fullImageDisplayModal.style.display === 'block') {
Â  Â  Â  Â  Â  Â  Â  Â  closeFullImage();
Â  Â  Â  Â  Â  Â  Â  Â  history.pushState(null, null, '#gallery');Â 
Â  Â  Â  Â  Â  Â  } else if (galleryModal.style.display === 'block') {
Â  Â  Â  Â  Â  Â  Â  Â  closeGallery();
Â  Â  Â  Â  Â  Â  Â  Â  history.pushState(null, null, window.location.pathname + window.location.search);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  });
Â  Â  Â  Â Â 
Â  Â  Â  Â  // --- TÃ–RTÃ‰NET/INTERAKCIÃ“ FUNKCIÃ“K (vÃ¡ltozatlan) ---

Â  Â  Â  Â  function updateButtons() {
Â  Â  Â  Â  Â  Â  stopAllAudio();Â 

Â  Â  Â  Â  Â  Â  if (currentPartIndex < storyPages.length) {
Â  Â  Â  Â  Â  Â  Â  Â  // NormÃ¡l lapozÃ³ mÃ³dÂ 
Â  Â  Â  Â  Â  Â  Â  Â  interactionContainer.style.display = 'flex';
Â  Â  Â  Â  Â  Â  Â  Â  passwordContainer.classList.remove('visible');
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  prevButton.disabled = currentPartIndex === 0;
Â  Â  Â  Â  Â  Â  Â  Â  nextButton.textContent = 'FolytatÃ¡s';
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  // KÃ³d kÃ©rÃ©s mÃ³dÂ 
Â  Â  Â  Â  Â  Â  Â  Â  interactionContainer.style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  passwordContainer.classList.add('visible');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  function updateAvatar(pageIndex) {
Â  Â  Â  Â  Â  Â  const speakerType = pageIndex < storyPages.length ? storyPages[pageIndex].speaker : 'Narrator';
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  if (speakerType === 'Anna') {
Â  Â  Â  Â  Â  Â  Â  Â  avatarImg.src = ANNA_AVATAR_URL;
Â  Â  Â  Â  Â  Â  Â  Â  avatarImg.alt = 'Anna avatar';
Â  Â  Â  Â  Â  Â  Â  Â  avatarImg.style.opacity = 1;
Â  Â  Â  Â  Â  Â  } else if (speakerType === 'Mark') {
Â  Â  Â  Â  Â  Â  Â  Â  avatarImg.src = MARK_AVATAR_URL;
Â  Â  Â  Â  Â  Â  Â  Â  avatarImg.alt = 'MÃ¡rk avatar';
Â  Â  Â  Â  Â  Â  Â  Â  avatarImg.style.opacity = 1;
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  // Narrator vagy kÃ³dbevitel: lÃ¡thatatlan avatar
Â  Â  Â  Â  Â  Â  Â  Â  avatarImg.src = MARK_AVATAR_URL;Â 
Â  Â  Â  Â  Â  Â  Â  Â  avatarImg.alt = 'SzereplÅ‘ avatar';
Â  Â  Â  Â  Â  Â  Â  Â  avatarImg.style.opacity = 0;Â 
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  function showStoryPart() {
Â  Â  Â  Â  Â  Â  messageDisplay.textContent = '';Â 
Â  Â  Â  Â  Â  Â  contentBox.style.opacity = 0;

Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  audioContainer1.style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  audioContainer2.style.display = 'none';
Â  Â  Â  Â  Â  Â  Â  Â  storyDisplay.innerHTML = '';Â 

Â  Â  Â  Â  Â  Â  Â  Â  if (currentPartIndex < storyPages.length) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const currentPage = storyPages[currentPartIndex];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  updateAvatar(currentPartIndex);Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (currentPage.type === 'text' || currentPage.type === 'audio') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  storyDisplay.innerHTML = currentPage.content;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (currentPage.type === 'audio') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (currentPage.audioId === 1) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  audioContainer1.style.display = 'block';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else if (currentPage.audioId === 2) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  audioContainer2.style.display = 'block';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  storyImage.src = currentPage.image || STABLE_IMAGE_URL;Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // KÃ³d bevitelnÃ©l
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  updateAvatar(currentPartIndex);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  storyDisplay.innerHTML = 'Add meg a kÃ³dot!'; // Ez a szÃ¶veg kerÃ¼l a dobozba kÃ³dkÃ©rÃ©snÃ©l
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  contentBox.style.opacity = 1;
Â  Â  Â  Â  Â  Â  Â  Â  updateButtons();
Â  Â  Â  Â  Â  Â  }, 500);
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  // --- ESEMÃ‰NYKEZELÅK ---
Â  Â  Â  Â Â 
Â  Â  Â  Â  document.querySelector('#galleryModal .close-gallery').onclick = () => {
Â  Â  Â  Â  Â  Â  Â history.back();Â 
Â  Â  Â  Â  };
Â  Â  Â  Â Â 
Â  Â  Â  Â  document.querySelector('#full-image-display .close-gallery').onclick = () => {
Â  Â  Â  Â  Â  Â  Â history.back();Â 
Â  Â  Â  Â  };

Â  Â  Â  Â  nextButton.addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  currentPartIndex++;
Â  Â  Â  Â  Â  Â  saveProgress();
Â  Â  Â  Â  Â  Â  showStoryPart();
Â  Â  Â  Â  });

Â  Â  Â  Â  prevButton.addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  if (currentPartIndex > 0) {
Â  Â  Â  Â  Â  Â  Â  Â  currentPartIndex--;
Â  Â  Â  Â  Â  Â  Â  Â  saveProgress();
Â  Â  Â  Â  Â  Â  Â  Â  showStoryPart();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  });
Â  Â  Â  Â Â 
Â  Â  Â  Â  backButtonPassword.addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  currentPartIndex = storyPages.length - 1;Â 
Â  Â  Â  Â  Â  Â  saveProgress();
Â  Â  Â  Â  Â  Â  showStoryPart();
Â  Â  Â  Â  });

Â  Â  Â  Â  checkButton.addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  const enteredPassword = passwordInput.value.trim();

Â  Â  Â  Â  Â  Â  if (enteredPassword === CORRECT_PASSWORD) {
Â  Â  Â  Â  Â  Â  Â  Â  messageDisplay.textContent = 'KÃ³d elfogadva! TovÃ¡bb lÃ©pÃ©s...';
Â  Â  Â  Â  Â  Â  Â  Â  messageDisplay.style.color = '#00FF00';
Â  Â  Â  Â  Â  Â  Â  Â  localStorage.removeItem('gameProgress');Â 
Â  Â  Â  Â  Â  Â  Â  Â  stopAllAudio();
Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  window.location.href = SUCCESS_LINK;
Â  Â  Â  Â  Â  Â  Â  Â  }, 1000);
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  messageDisplay.textContent = 'Helytelen jelszÃ³! PrÃ³bÃ¡ld Ãºjra.';
Â  Â  Â  Â  Â  Â  Â  Â  messageDisplay.style.color = '#FF4500';
Â  Â  Â  Â  Â  Â  Â  Â  passwordInput.value = '';
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  });

Â  Â  Â  Â  passwordInput.addEventListener('keypress', (e) => {
Â  Â  Â  Â  Â  Â  if (e.key === 'Enter') {
Â  Â  Â  Â  Â  Â  Â  Â  checkButton.click();Â 
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  });
Â  Â  Â  Â Â 
Â  Â  Â  Â  playAudioButton1.addEventListener('click', () => toggleAudio(storyAudio1, playAudioButton1, '1'));
Â  Â  Â  Â  playAudioButton2.addEventListener('click', () => toggleAudio(storyAudio2, playAudioButton2, '2'));

Â  Â  Â  Â Â 
Â  Â  Â  Â  // 1. KÃ©pgalÃ©ria menÃ¼ gomb esemÃ©nykezelÅ‘je
Â  Â  Â  Â  imageButton.addEventListener('click', openGallery);
Â  Â  Â  Â Â 
Â  Â  Â  Â  // 2. TÃ©rkÃ©p menÃ¼ gomb esemÃ©nykezelÅ‘je
Â  Â  Â  Â  mapButton.addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  window.open('https://www.google.com/maps/d/u/0/viewer?mid=1jaaxNriWkeGPzFJC4e--k0CU2QyBFx8&ll=47.453898687406785%2C19.01940665000001&z=13', '_blank');
Â  Â  Â  Â  });

Â  Â  Â  Â  // ğŸ›‘ MÃ“DOSÃTOTT: SÃºgÃ³ esemÃ©nykezelÅ‘k
Â  Â  Â  Â  if (helpButton) {
Â  Â  Â  Â  Â  Â  helpButton.addEventListener('click', showHelpMessage);
Â  Â  Â  Â  }

Â  Â  Â  Â  if (helpNextButton) {
Â  Â  Â  Â  Â  Â  helpNextButton.addEventListener('click', nextHelpStep);
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  // ÃšJ: BezÃ¡rÃ¡s esemÃ©nykezelÅ‘
Â  Â  Â  Â  if (helpCloseButton) {
Â  Â  Â  Â  Â  Â  helpCloseButton.addEventListener('click', closeHelpModal);
Â  Â  Â  Â  }


Â  Â  Â  Â  window.onload = () => {
Â  Â  Â  Â  Â  Â  loadProgress();Â 
Â  Â  Â  Â  Â  Â  showStoryPart();
Â  Â  Â  Â  };
Â  Â  </script>
</body>
</html>

<!doctype html>
<html lang="hu">
<head>
ย ย <meta charset="utf-8">
ย ย <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=10.0, orientation=portrait">ย
ย ย <title>Titkos รzenet โ Kรณdfejtรฉs</title>
ย ย <link href="https://fonts.googleapis.com/css2?family=Play:wght@400;700&display=swap" rel="stylesheet">
ย ย <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
ย ย <style>
ย ย ย ย /* Alapvetล reszet รฉs sรถtรฉt hรกttรฉr */
ย ย ย ย body {
ย ย ย ย ย ย margin: 0;
ย ย ย ย ย ย padding: 0;
ย ย ย ย ย ย font-family: 'Play', sans-serif;
ย ย ย ย ย ย /* FONTOS: Sรถtรฉt tรฉma beรกllรญtรกsa */
ย ย ย ย ย ย color: #e0e0e0;ย
ย ย ย ย ย ย background-color: #1a1a1a;ย
ย ย ย ย ย ย display: flex;
ย ย ย ย ย ย flex-direction: column;
ย ย ย ย ย ย align-items: center;
ย ย ย ย ย ย min-height: 100vh;
ย ย ย ย ย ย text-align: center;
ย ย ย ย ย ย padding-bottom: 60px;ย
ย ย ย ย }
ย ย ย ยย
ย ย ย ย /* รJ: Fekvล tรกjolรกs tiltรกsa, csak a portrรฉ (รกllรณ) mรณd lรกthatรณ */
ย ย ย ย @media only screen and (orientation: landscape) {
ย ย ย ย ย ย body::after {
ย ย ย ย ย ย ย ย content: "Kรฉrlek, tartsd fรผggลlegesen a telefont!";
ย ย ย ย ย ย ย ย position: fixed;
ย ย ย ย ย ย ย ย top: 0;
ย ย ย ย ย ย ย ย left: 0;
ย ย ย ย ย ย ย ย width: 100%;
ย ย ย ย ย ย ย ย height: 100%;
ย ย ย ย ย ย ย ย background-color: #1a1a1a;
ย ย ย ย ย ย ย ย color: #ff4500;
ย ย ย ย ย ย ย ย font-size: 2em;
ย ย ย ย ย ย ย ย display: flex;
ย ย ย ย ย ย ย ย justify-content: center;
ย ย ย ย ย ย ย ย align-items: center;
ย ย ย ย ย ย ย ย z-index: 9999;
ย ย ย ย ย ย ย ย text-align: center;
ย ย ย ย ย ย }
ย ย ย ย ย ย body > *:not(style):not(script):not(.full-width-image-container) {
ย ย ย ย ย ย ย ย display: none !important;
ย ย ย ย ย ย }
ย ย ย ย }
ย ย ย ยย
ย ย ย ย /* Teljes szรฉlessรฉgลฑ KรP (Hรกttรฉr) */
ย ย ย ย .full-width-image-container {
ย ย ย ย ย ย width: 100%;
ย ย ย ย ย ย height: 100vh;ย
ย ย ย ย ย ย overflow: hidden;
ย ย ย ย ย ย position: fixed;ย
ย ย ย ย ย ย top: 0;
ย ย ย ย ย ย left: 0;
ย ย ย ย ย ย z-index: 0;ย
ย ย ย ย }

ย ย ย ย .full-width-image-container img {
ย ย ย ย ย ย width: 100%;
ย ย ย ย ย ย height: 100%;
ย ย ย ย ย ย object-fit: contain;ย
ย ย ย ย ย ย object-position: center top;ย
ย ย ย ย }

ย ย ย ย /* Tartalom doboz - FIX ALULRA ZรRVA */
ย ย ย ย .content-box {
ย ย ย ย ย ย background-color: rgba(0, 0, 0, 0.7);ย
ย ย ย ย ย ย padding: 40px;ย
ย ย ย ย ย ย margin: 0;ย
ย ย ย ย ย ย border-radius: 10px 10px 0 0;ย
ย ย ย ย ย ย max-width: 800px;
ย ย ย ย ย ย width: calc(100% - 20px);
ย ย ย ย ย ย box-shadow: 0 0 25px rgba(138, 43, 226, 0.7);
ย ย ย ย ย ย border: 3px solid #8a2be2;
ย ย ย ย ย ย box-sizing: border-box;
ย ย ย ย ย ย position: fixed;ย
ย ย ย ย ย ย bottom: 50px;ย
ย ย ย ย ย ย left: 50%;
ย ย ย ย ย ย transform: translateX(-50%);ย
ย ย ย ย ย ย z-index: 10;
ย ย ย ย ย ย text-align: left;
ย ย ย ย ย ย min-height: 250px;ย
ย ย ย ย ย ย display: flex;ย
ย ย ย ย ย ย flex-direction: column;
ย ย ย ย ย ย justify-content: space-between;ย
ย ย ย ย ย ย opacity: 0;ย
ย ย ย ย ย ย transition: opacity 0.5s ease-in-out;
ย ย ย ย }

ย ย ย ย /* Tรถrtรฉnet szรถvege */
ย ย ย ย #story-text-display {
ย ย ย ย ย ย font-size: 1.3em;
ย ย ย ย ย ย font-weight: 700;
ย ย ย ย ย ย line-height: 1.6;
ย ย ย ย ย ย margin-bottom: 20px;
ย ย ย ย ย ย white-space: pre-wrap;ย
ย ย ย ย }
ย ย ย ยย
ย ย ย ย /* Audio gombok... */
ย ย ย ย .audio-container {
ย ย ย ย ย ย text-align: center;
ย ย ย ย ย ย margin-bottom: 15px;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .audio-button {
ย ย ย ย ย ย padding: 12px 20px;ย
ย ย ย ย ย ย text-decoration: none;
ย ย ย ย ย ย color: #1a1a1a;
ย ย ย ย ย ย background-color: #00FFFF;ย
ย ย ย ย ย ย border: none;
ย ย ย ย ย ย border-radius: 5px;
ย ย ย ย ย ย font-size: 1.1em;
ย ย ย ย ย ย font-weight: 700;
ย ย ย ย ย ย cursor: pointer;
ย ย ย ย ย ย transition: background-color 0.3s;
ย ย ย ย ย ย box-shadow: 0 0 10px rgba(0, 255, 255, 0.4);
ย ย ย ย ย ย display: inline-flex;
ย ย ย ย ย ย align-items: center;
ย ย ย ย ย ย gap: 8px;
ย ย ย ย }

ย ย ย ย .audio-button:hover {
ย ย ย ย ย ย background-color: #00DDEE;
ย ย ย ย }

ย ย ย ย /* --- ALSร INTERAKCIรS SรV (a tรถrtรฉnet gombjai) --- */
ย ย ย ย .bottom-bar {
ย ย ย ย ย ย padding-top: 10px;
ย ย ย ย ย ย border-top: 1px dashed #8a2be2;
ย ย ย ย ย ย min-height: 48px;
ย ย ย ย ย ย width: 100%;
ย ย ย ย }

ย ย ย ย .interaction-container {
ย ย ย ย ย ย display: flex;
ย ย ย ย ย ย justify-content: space-between;
ย ย ย ย ย ย align-items: center;
ย ย ย ย ย ย width: 100%;
ย ย ย ย }

ย ย ย ย .page-button {
ย ย ย ย ย ย padding: 12px 20px;ย
ย ย ย ย ย ย text-decoration: none;
ย ย ย ย ย ย color: #ffffff;
ย ย ย ย ย ย background-color: #8a2be2;
ย ย ย ย ย ย border: none;
ย ย ย ย ย ย border-radius: 5px;
ย ย ย ย ย ย font-size: 1.1em;
ย ย ย ย ย ย font-weight: 700;
ย ย ย ย ย ย cursor: pointer;
ย ย ย ย ย ย transition: background-color 0.3s, transform 0.1s;
ย ย ย ย ย ย text-transform: uppercase;
ย ย ย ย ย ย box-shadow: 0 4px 10px rgba(138, 43, 226, 0.4);
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .page-button:hover:not(:disabled) {
ย ย ย ย ย ย background-color: #7b1cd1;
ย ย ย ย ย ย transform: translateY(-1px);
ย ย ย ย }

ย ย ย ย .page-button:disabled {
ย ย ย ย ย ย background-color: #555555;
ย ย ย ย ย ย cursor: not-allowed;
ย ย ย ย ย ย box-shadow: none;
ย ย ย ย ย ย opacity: 0.6;
ย ย ย ย }

ย ย ย ย /* Jelszรณ kontรฉner */
ย ย ย ย #password-container {
ย ย ย ย ย ย display: none;
ย ย ย ย ย ย flex-direction: column;
ย ย ย ย ย ย gap: 15px;
ย ย ย ย ย ย width: 100%;
ย ย ย ย ย ย text-align: center;
ย ย ย ย }

ย ย ย ย #password-container.visible {
ย ย ย ย ย ย display: flex;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย #password-input {
ย ย ย ย ย ย padding: 12px;
ย ย ย ย ย ย border: 2px solid #8a2be2;
ย ย ย ย ย ย border-radius: 5px;
ย ย ย ย ย ย background-color: #2c2c2c;
ย ย ย ย ย ย color: #00ffff;
ย ย ย ย ย ย font-size: 1.2em;
ย ย ย ย ย ย text-align: center;
ย ย ย ย ย ย font-family: 'Play', sans-serif;
ย ย ย ย ย ย margin-bottom: 5px;ย
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .password-interaction {
ย ย ย ย ย ย display: flex;
ย ย ย ย ย ย justify-content: space-between;
ย ย ย ย ย ย align-items: center;
ย ย ย ย ย ย gap: 10px;
ย ย ย ย ย ย width: 100%;
ย ย ย ย }

ย ย ย ย #check-password-button, #back-button-password {
ย ย ย ย ย ย padding: 12px 20px;ย
ย ย ย ย ย ย font-size: 1.1em;ย
ย ย ย ย }
ย ย ย ยย
ย ย ย ย #back-button-password {
ย ย ย ย ย ย color: #ffffff;
ย ย ย ย ย ย background-color: #8a2be2;ย
ย ย ย ย }
ย ย ย ยย
ย ย ย ย #check-password-button {
ย ย ย ย ย ย color: #ffffff;
ย ย ย ย ย ย background-color: #00ffff;
ย ย ย ย ย ย box-shadow: 0 4px 10px rgba(0, 255, 255, 0.4);ย
ย ย ย ย ย ย flex-grow: 1;ย
ย ย ย ย }
ย ย ย ยย
ย ย ย ย #check-password-button:hover {
ย ย ย ย ย ย background-color: #00ddee;
ย ย ย ย ย ย transform: translateY(-1px);ย
ย ย ย ย }

ย ย ย ย #message {
ย ย ย ย ย ย margin-top: 10px;
ย ย ย ย ย ย font-weight: 700;
ย ย ย ย ย ย color: #ff4500;
ย ย ย ย }

ย ย ย ย /* Avatar kรฉp */
ย ย ย ย .avatar-image {
ย ย ย ย ย ย position: absolute;
ย ย ย ย ย ย top: -50px;ย
ย ย ย ย ย ย left: -10px;ย
ย ย ย ย ย ย width: 70px;ย
ย ย ย ย ย ย height: 70px;ย
ย ย ย ย ย ย border-radius: 50%;ย
ย ย ย ย ย ย object-fit: cover;ย
ย ย ย ย ย ย z-index: 20;ย
ย ย ย ย ย ย display: block;ย
ย ย ย ย ย ย box-shadow: 0 0 8px rgba(0, 255, 255, 0.5);ย
ย ย ย ย ย ย transition: opacity 0.3s ease-in-out;ย
ย ย ย ย }
ย ย ย ยย
ย ย ย ย /* --- FIX ALSร MENรSOR --- */
ย ย ย ย .fixed-menu-bar {
ย ย ย ย ย ย position: fixed;
ย ย ย ย ย ย bottom: 0;
ย ย ย ย ย ย left: 0;
ย ย ย ย ย ย width: 100%;
ย ย ย ย ย ย height: 50px;
ย ย ย ย ย ย background-color: #1a1a1a;
ย ย ย ย ย ย border-top: 2px solid #8a2be2;
ย ย ย ย ย ย z-index: 50;ย
ย ย ย ย ย ย display: flex;
ย ย ย ย ย ย justify-content: space-around;
ย ย ย ย ย ย align-items: center;
ย ย ย ย ย ย box-shadow: 0 -4px 15px rgba(138, 43, 226, 0.5);
ย ย ย ย }

ย ย ย ย .menu-button {
ย ย ย ย ย ย background: none;
ย ย ย ย ย ย border: none;
ย ย ย ย ย ย color: #ffffff;
ย ย ย ย ย ย font-size: 1.5em;
ย ย ย ย ย ย cursor: pointer;
ย ย ย ย ย ย padding: 5px 10px;
ย ย ย ย ย ย transition: color 0.3s;
ย ย ย ย }

ย ย ย ย .menu-button:hover {
ย ย ย ย ย ย color: #00ffff;
ย ย ย ย }

ย ย ย ย /* --- GALรRIA MODAL STรLUSOK --- */
ย ย ย ย #galleryModal {
ย ย ย ย ย ย display: none;ย
ย ย ย ย ย ย position: fixed;
ย ย ย ย ย ย z-index: 100;ย
ย ย ย ย ย ย left: 0;
ย ย ย ย ย ย top: 0;
ย ย ย ย ย ย width: 100%;
ย ย ย ย ย ย height: 100%;
ย ย ย ย ย ย overflow-y: scroll;ย
ย ย ย ย ย ย background-color: rgba(0, 0, 0, 0.95);
ย ย ย ย }
ย ย ย ยย
ย ย ย ย /* รJ: Fล galรฉria nรฉzet (bรฉlyegkรฉpek) */
ย ย ย ย #gallery-container {
ย ย ย ย ย ย display: grid;
ย ย ย ย ย ย grid-template-columns: 1fr 1fr;ย
ย ย ย ย ย ย gap: 10px;
ย ย ย ย ย ย padding: 15px;
ย ย ย ย ย ย width: 100%;
ย ย ย ย ย ย max-width: 800px;
ย ย ย ย ย ย margin: 0 auto;
ย ย ย ย ย ย box-sizing: border-box;
ย ย ย ย }

ย ย ย ย .gallery-thumbnail {
ย ย ย ย ย ย width: 100%;
ย ย ย ย ย ย height: 150px;ย
ย ย ย ย ย ย overflow: hidden;
ย ย ย ย ย ย border: 2px solid #8a2be2;
ย ย ย ย ย ย border-radius: 5px;
ย ย ย ย ย ย cursor: pointer;
ย ย ย ย ย ย box-shadow: 0 0 10px rgba(138, 43, 226, 0.4);
ย ย ย ย ย ย transition: transform 0.2s;
ย ย ย ย }

ย ย ย ย .gallery-thumbnail:hover {
ย ย ย ย ย ย transform: scale(1.03);
ย ย ย ย }

ย ย ย ย .gallery-thumbnail img {
ย ย ย ย ย ย width: 100%;
ย ย ย ย ย ย height: 100%;
ย ย ย ย ย ย object-fit: cover;ย
ย ย ย ย ย ย display: block;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย /* Teljes kรฉpernyลs modรกl kontรฉner a zoomolhatรณ kรฉpnek */
ย ย ย ย #full-image-display {
ย ย ย ย ย ย display: none;
ย ย ย ย ย ย position: fixed;
ย ย ย ย ย ย z-index: 101;
ย ย ย ย ย ย top: 0;
ย ย ย ย ย ย left: 0;
ย ย ย ย ย ย width: 100%;
ย ย ย ย ย ย height: 100%;
ย ย ย ย ย ย background-color: rgba(0, 0, 0, 0.98);
ย ย ย ย ย ย overflow: auto;ย
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .full-image-content {
ย ย ย ย ย ย width: 100vw;ย
ย ย ย ย ย ย height: 100vh;
ย ย ย ย ย ย display: flex;
ย ย ย ย ย ย align-items: center;ย
ย ย ย ย ย ย justify-content: center;ย
ย ย ย ย }

ย ย ย ย #fullImageDisplay {
ย ย ย ย ย ย /* Kรฉp zoomolhatรณsรกg beรกllรญtรกsa */
ย ย ย ย ย ย display: block;
ย ย ย ย ย ย width: auto;ย
ย ย ย ย ย ย height: auto;
ย ย ย ย ย ย max-width: 100%;ย
ย ย ย ย ย ย max-height: 100%;
ย ย ย ย ย ยย
ย ย ย ย ย ย touch-action: pan-x pan-y;ย
ย ย ย ย ย ย cursor: move;
ย ย ย ย ย ย margin: auto;
ย ย ย ย }


ย ย ย ย .close-gallery {
ย ย ย ย ย ย position: absolute;
ย ย ย ย ย ย top: 15px;
ย ย ย ย ย ย right: 33px;
ย ย ย ย ย ย color: #f1f1f1;
ย ย ย ย ย ย font-size: 40px;
ย ย ย ย ย ย font-weight: bold;
ย ย ย ย ย ย transition: 0.3s;
ย ย ย ย ย ย cursor: pointer;
ย ย ย ย ย ย z-index: 110;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย .close-gallery:hover,
ย ย ย ย .close-gallery:focus {
ย ย ย ย ย ย color: #00ffff;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย /* A navigรกciรณs gombok eltรกvolรญtva a modรกlbรณl */
ย ย ย ย .gallery-nav {
ย ย ย ย ย ย display: none;ย
ย ย ย ย }
        
        /* --- SรGร (HELP) MODAL STรLUSOK --- */
        #help-modal {
            display: none;
            position: fixed;
            z-index: 200; /* Legfelรผl legyen */
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(5px);
        }

        .help-content {
            background-color: #1a1a1a;
            margin: 15% auto; /* Kรถzรฉpre igazรญtรกs */
            padding: 30px;
            border: 3px solid #00ffff;
            border-radius: 10px;
            width: 80%;
            max-width: 400px;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
            text-align: center;
        }

        #help-text-display {
            font-size: 1.2em;
            font-weight: 700;
            color: #e0e0e0;
            margin-bottom: 25px;
            min-height: 80px;
        }

        #help-next-button {
            background-color: #00ffff;
            color: #1a1a1a;
            padding: 10px 25px;
            border: none;
            border-radius: 5px;
            font-size: 1.1em;
            font-weight: 700;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        #help-next-button:hover {
            background-color: #00ddee;
        }

        /* Sรบgรณ ikon a kรณdbevitelhez */
        .help-icon {
            background: none;
            border: none;
            color: #00ffff;
            font-size: 1.5em;
            cursor: pointer;
            transition: color 0.3s;
            margin-left: 10px;
        }

ย ย </style>
</head>
<body oncontextmenu="return false;">ย
ย ย <div class="full-width-image-container">
ย ย ย ย <img id="story-image" src="Img/Screenshot_20251117_095747.jpg" alt="Titokzatos jelenet">
ย ย </div>

ย ย <div class="content-box" id="content-box">
ย ย ย ย <img id="avatar-img" class="avatar-image" src="https://github.com/treasurehuntsites/treasurehuntsites.github.io/blob/main/Img/1740218605.png?raw=true" alt="Szereplล avatar">
ย ย ย ยย
ย ย ย ย <p id="story-text-display"></p>
ย ย ย ยย
ย ย ย ย <div id="audio-container-1" class="audio-container" style="display:none;">
ย ย ย ย ย ย ย<button id="play-audio-button-1" class="audio-button">โถ๏ธ Lejรกtszรกs (1)</button>
ย ย ย ย </div>
ย ย ย ย <div id="audio-container-2" class="audio-container" style="display:none;">
ย ย ย ย ย ย ย<button id="play-audio-button-2" class="audio-button">โถ๏ธ Lejรกtszรกs (2)</button>
ย ย ย ย </div>


ย ย ย ย <div class="bottom-bar">
ย ย ย ย ย ย <div class="interaction-container" id="interaction-container">
ย ย ย ย ย ย ย ย <button id="prev-page-button" class="page-button" disabled>
ย ย ย ย ย ย ย ย ย ย Vissza
ย ย ย ย ย ย ย ย </button>
ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย <button id="next-page-button" class="page-button">
ย ย ย ย ย ย ย ย ย ย Folytatรกs
ย ย ย ย ย ย ย ย </button>
ย ย ย ย ย ย </div>

ย ย ย ย ย ย <div id="password-container">
ย ย ย ย ย ย ย ย <p>
ย ย ย ย ย ย ย ย ย ย Add meg a kรณdot:
ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย <button id="help-button" class="help-icon" title="Segรญtsรฉg">
ย ย ย ย ย ย ย ย ย ย ย ย <i class="fa-solid fa-circle-question"></i>
ย ย ย ย ย ย ย ย ย ย </button>
ย ย ย ย ย ย ย ย </p>
ย ย ย ย ย ย ย ย <input type="password" id="password-input" maxlength="4">
ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย <div class="password-interaction">
ย ย ย ย ย ย ย ย ย ย <button id="back-button-password" class="page-button">
ย ย ย ย ย ย ย ย ย ย ย ย Vissza
ย ย ย ย ย ย ย ย ย ย </button>
ย ย ย ย ย ย ย ย ย ย <button id="check-password-button" class="page-button">
ย ย ย ย ย ย ย ย ย ย ย ย ELLENลRZรS
ย ย ย ย ย ย ย ย ย ย </button>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย <p id="message"></p>
ย ย ย ย ย ย </div>
ย ย ย ย </div>
ย ย </div>
ย ยย
ย ย <div class="fixed-menu-bar">
ย ย ย ย <button id="map-button" class="menu-button" title="Tรฉrkรฉp">
ย ย ย ย ย ย <i class="fa-solid fa-map-location-dot"></i>
ย ย ย ย </button>
ย ย ย ยย
ย ย ย ย <button id="image-button" class="menu-button" title="Kรฉpgalรฉria">
ย ย ย ย ย ย <i class="fa-solid fa-image"></i>
ย ย ย ย </button>
ย ย </div>
ย ยย
ย ย <div id="galleryModal">
ย ย ย <span class="close-gallery" onclick="history.back();">ร</span>
ย ย ย <div id="gallery-container">
ย ย ย ย ย </div>
ย ย </div>
ย ยย
ย ย <div id="full-image-display">
ย ย ย ย <div class="full-image-content">
ย ย ย ย ย ย <img id="fullImageDisplay" src="" alt="Nagyรญtott kรฉp" />
ย ย ย ย </div>
ย ย ย ย <span class="close-gallery" style="z-index: 120;" onclick="history.back();">ร</span>
ย ย </div>
    
    <div id="help-modal">
        <div class="help-content">
            <p id="help-text-display"></p>
            <button id="help-next-button">Tovรกbb</button>
        </div>
    </div>


ย ยย
ย ย <audio id="story-audio-1" src="https://raw.githubusercontent.com/treasurehuntsites/treasurehuntsites.github.io/main/media/Ugynokok1.mp3" preload="auto"></audio>
ย ย <audio id="story-audio-2" src="https://raw.githubusercontent.com/treasurehuntsites/treasurehuntsites.github.io/main/media/Ugynokok2.mp3" preload="auto"></audio>

ย ย <script>
ย ย ย ย // KรP URL-ek
ย ย ย ย const STABLE_IMAGE_URL = "Img/Screenshot_20251117_095747.jpg";ย
ย ย ย ย const MARK_AVATAR_URL = "https://github.com/treasurehuntsites/treasurehuntsites.github.io/blob/main/Img/1740218605.png?raw=true";
ย ย ย ย const ANNA_AVATAR_URL = "https://content.actionbound.com/user/5d77f26bdf17445d808bcb28/image/1740219075.png";
ย ย ย ย const PUZZLE_IMAGE_URL = "Img/1757454039.jpg";ย

ย ย ย ย // GALรRIA KรPEK LISTรJA
ย ย ย ย const galleryImages = [
ย ย ย ย ย ย { url: STABLE_IMAGE_URL, title: "Titokzatos jelenet" },
ย ย ย ย ย ย { url: PUZZLE_IMAGE_URL, title: "Kรณdolvasรณ rejtvรฉny" }
ย ย ย ย ];
ย ย ย ย let currentGalleryIndex = 0;


ย ย ย ย // ๐ TรRTรNETRรSZEKย
ย ย ย ย const storyPages = [
ย ย ย ย ย ย // Dialogue
ย ย ย ย ย ย { type: 'text', content: `รs most hogyan tovรกbb?`, speaker: 'Anna', image: STABLE_IMAGE_URL },ย
ย ย ย ย ย ย { type: 'text', content: `Nรฉzd, mit รญr a Vizualizรกtor..`, speaker: 'Mark', image: STABLE_IMAGE_URL },ย
ย ย ย ย ย ยย
ย ย ย ย ย ย // Narration (A speciรกlis AR kรฉszรผlรฉk leรญrรกsa)
ย ย ย ย ย ย { type: 'text', content: `Anna felolvasta mit รญr speciรกlis AR kรฉszรผlรฉke a szemben lรฉvล furcsa hรกzrรณl.`, speaker: 'Narrator', image: STABLE_IMAGE_URL },ย
ย ย ย ย ย ย { type: 'text', content: `A XXII. kerรผlet mรฉlyรฉn, Budafok rรฉgi hรกzai alatt hรบzรณdik a hรญres pincerendszer, amelyet a 18. szรกzadi nรฉmet szลlลsgazdรกk vรกjtak a mรฉszkลbe.`, speaker: 'Narrator', image: STABLE_IMAGE_URL },ย
ย ย ย ย ย ย { type: 'text', content: `A legtรถbben รบgy tartjรกk, hogy ezek a jรกratok csak a borkereskedลknek รฉs a kลfejtลknek szolgรกltak menedรฉkรผl.`, speaker: 'Narrator', image: STABLE_IMAGE_URL },ย
ย ย ย ย ย ย { type: 'text', content: `De van, aki mรกst mesรฉl.`, speaker: 'Narrator', image: STABLE_IMAGE_URL },ย
ย ย ย ย ย ย { type: 'text', content: `A helybรฉliek kรถzรถtt fennmaradt egy tรถrtรฉnet a Kรถlcsey utca 3. szรกm alatti hรกzrรณl.`, speaker: 'Narrator', image: STABLE_IMAGE_URL },ย
ย ย ย ย ย ย { type: 'text', content: `A hรกz kรผlsลre semmiben sem kรผlรถnbรถzรถtt a szomszรฉdos รฉpรผletektลl, kivรฉve a nรฉgy szobor fejรฉt a homlokzatรกn, de รกllรญtรณlag volt egy titkos lejรกrata a pince mรฉlyรฉre.`, speaker: 'Narrator', image: STABLE_IMAGE_URL },ย
ย ย ย ย ย ย { type: 'text', content: `A legenda szerint a II. vilรกghรกborรบ alatt a nรฉmetek itt alakรญtottak ki egy rejtett rรกdiรณรกllomรกst, ahonnan รผzeneteket tovรกbbรญtottak a frontvonal mรถgรฉ.`, speaker: 'Narrator', image: STABLE_IMAGE_URL },ย
ย ย ย ย ย ย { type: 'text', content: `A rรกdiรณszobรกt รกllรญtรณlag csak รบgy lehetett megkรถzelรญteni, ha egy bizonyos szobor fejรฉt jรณ irรกnyba forgattak a fal homlokzatรกn โ ekkor nyรญlt egy keskeny kลajtรณ a mรฉlybe.`, speaker: 'Narrator', image: STABLE_IMAGE_URL },ย
ย ย ย ย ย ย { type: 'text', content: `A hรกborรบ utรกn a szovjetek is felfedeztรฉk a rejtekhelyet, de nem szรกmoltรกk fel.`, speaker: 'Narrator', image: STABLE_IMAGE_URL },ย
ย ย ย ย ย ย { type: 'text', content: `A hideghรกborรบ idejรฉn a titkos jรกratokat a magyar รกllambiztonsรกg hasznรกlta: azt beszรฉltรฉk, hogy a Kรถlcsey utcรกbรณl kรถzvetlen alagรบt vezetett a Duna-part alรก, ahol egy konspirรกciรณs talรกlkozรณhely volt berendezve.`, speaker: 'Narrator', image: STABLE_IMAGE_URL },ย
ย ย ย ย ย ย { type: 'text', content: `Az idลsebb helyiek รบgy tartjรกk, hogy az 1956-os forradalom idejรฉn ismeretlen emberek hordtรกk le a pincรฉbe a rรกdiรณalkatrรฉszeket รฉs rรถplapokat.`, speaker: 'Narrator', image: STABLE_IMAGE_URL },ย
ย ย ย ย ย ย { type: 'text', content: `Senki sem tudja, kik voltak โ szovjet รผgynรถkรถk, ellenรกllรณk, vagy egyszerลฑ kรฉmek?`, speaker: 'Narrator', image: STABLE_IMAGE_URL },ย
ย ย ย ย ย ย { type: 'text', content: `A mai napig akadnak, akik azt รกllรญtjรกk, ha รฉjszaka csendben รกllsz a Kรถlcsey utca 3. elลtt, halk zรบgรกst hallasz a mรฉlybลl โ mintha egy rรฉgi adรณ-vevล mรฉg mindig prรณbรกlna kapcsolatba lรฉpni valakivel.`, speaker: 'Narrator', image: STABLE_IMAGE_URL },ย
ย ย ย ย ย ย { type: 'text', content: `Mรกsok szerint a pincรฉk egy rรฉsze mรกig feltรกratlan, รฉs valahol ott rejtลzik egy vaslรกdikรณ, tele rejtjelekkel, mikrofilmekkel รฉs egy soha el nem kรผldรถtt รผzenettel, ami talรกn รถrรถkre megvรกltoztatta volna Budapest tรถrtรฉnelmรฉt.`, speaker: 'Narrator', image: STABLE_IMAGE_URL },ย
ย ย ย ย ย ยย
ย ย ย ย ย ย // Dialogue (Mรกrk) รฉs lezรกrรกs
ย ย ย ย ย ย { type: 'text', content: `Fรบ, ez izgalmasan hangzik!`, speaker: 'Mark', image: STABLE_IMAGE_URL },ย
ย ย ย ย ย ย { type: 'text', content: `De vajon mik azok a fura szobrok meg szรกmok a homlokzaton?`, speaker: 'Narrator', image: STABLE_IMAGE_URL },ย
ย ย ย ย ย ย { type: 'text', content: `Mi lehet a kรณd?`, speaker: 'Narrator', image: STABLE_IMAGE_URL }ย
ย ย ย ย ];


ย ย ย ย let currentPartIndex = 0;
ย ย ย ย const CORRECT_PASSWORD = "2460";ย
ย ย ย ย const SUCCESS_LINK = "minta_oldal_3.html";ย
        
        // ๐ รJ: SEGรTSรG ADATOK รS รLLAPOT
        const HELP_MESSAGES = [
            "A szobroknak kรถzรผk lehet a szรกmkรณdos megoldรกshoz.",
            "Lehet, hogy fontos merre nรฉznek?",
            "A segรญtsรฉgnek รกra van. Vigyรกzz , mert ha nem รฉrsz el 50 pontot a jรกtรฉk vรฉgรฉig, nem tudod a jรกtรฉkot befejezni. A kรณd: 2460"
        ];
        let currentHelpIndex = 0;
ย ย ย ยย
ย ย ย ย // DOM elemek
ย ย ย ย const contentBox = document.getElementById('content-box');
ย ย ย ย const storyDisplay = document.getElementById('story-text-display');
ย ย ย ย const nextButton = document.getElementById('next-page-button');
ย ย ย ย const prevButton = document.getElementById('prev-page-button');
ย ย ย ย const interactionContainer = document.getElementById('interaction-container');ย
ย ย ย ย const passwordContainer = document.getElementById('password-container');ย
ย ย ย ย const backButtonPassword = document.getElementById('back-button-password');ย

ย ย ย ย const passwordInput = document.getElementById('password-input');
ย ย ย ย const checkButton = document.getElementById('check-password-button');
ย ย ย ย const messageDisplay = document.getElementById('message');
ย ย ย ย const storyImage = document.getElementById('story-image');ย
ย ย ย ยย
ย ย ย ย const storyAudio1 = document.getElementById('story-audio-1');
ย ย ย ย const playAudioButton1 = document.getElementById('play-audio-button-1');
ย ย ย ย const audioContainer1 = document.getElementById('audio-container-1');
ย ย ย ยย
ย ย ย ย const storyAudio2 = document.getElementById('story-audio-2');
ย ย ย ย const playAudioButton2 = document.getElementById('play-audio-button-2');
ย ย ย ยย
ย ย ย ย const audioContainer2 = document.getElementById('audio-container-2');ย
ย ย ย ยย
ย ย ย ย const avatarImg = document.getElementById('avatar-img');
ย ย ย ยย
ย ย ย ย const imageButton = document.getElementById('image-button');
ย ย ย ย const mapButton = document.getElementById('map-button');ย

ย ย ย ย // GALรRIA DOM elemek
ย ย ย ย const galleryModal = document.getElementById('galleryModal');
ย ย ย ย const galleryContainer = document.getElementById('gallery-container');
ย ย ย ยย
ย ย ย ย // ๐ รJ: Nagyรญtott kรฉphez tartozรณ elemek
ย ย ย ย const fullImageDisplayModal = document.getElementById('full-image-display');
ย ย ย ย const fullImageDisplay = document.getElementById('fullImageDisplay');
        
        // ๐ รJ: Sรบgรณ DOM elemek
        const helpButton = document.getElementById('help-button');
        const helpModal = document.getElementById('help-modal');
        const helpTextDisplay = document.getElementById('help-text-display');
        const helpNextButton = document.getElementById('help-next-button');

ย ย ย ย // --- Segรฉd FรGGVรNYEK ---

ย ย ย ย function saveProgress() {
ย ย ย ย ย ย localStorage.setItem('gameProgress', currentPartIndex);
ย ย ย ย }

ย ย ย ย function loadProgress() {
ย ย ย ย ย ย const savedIndex = localStorage.getItem('gameProgress');
ย ย ย ย ย ย if (savedIndex !== null) {
ย ย ย ย ย ย ย ย currentPartIndex = Math.min(parseInt(savedIndex), storyPages.length);ย
ย ย ย ย ย ย } else {
ย ย ย ย ย ย ย ย currentPartIndex = 0;
ย ย ย ย ย ย }
ย ย ย ย }
ย ย ย ยย
ย ย ย ย function stopAllAudio() {
ย ย ย ย ย ย ยstoryAudio1.pause();
ย ย ย ย ย ย ยstoryAudio1.currentTime = 0;
ย ย ย ย ย ย ยplayAudioButton1.innerHTML = "โถ๏ธ Lejรกtszรกs (1)";
ย ย ย ย ย ย ย
ย ย ย ย ย ย ยstoryAudio2.pause();
ย ย ย ย ย ย ยstoryAudio2.currentTime = 0;
ย ย ย ย ย ย ยplayAudioButton2.innerHTML = "โถ๏ธ Lejรกtszรกs (2)";
ย ย ย ย }

ย ย ย ย function toggleAudio(audioElement, buttonElement, buttonText) {
ย ย ย ย ย ย if (audioElement.paused) {
ย ย ย ย ย ย ย ย stopAllAudio();ย
ย ย ย ย ย ย ย ย audioElement.play().catch(error => {
ย ย ย ย ย ย ย ย ย ย console.error('Autoplay failed, user interaction needed.', error);
ย ย ย ย ย ย ย ย });
ย ย ย ย ย ย ย ย buttonElement.innerHTML = `โธ๏ธ Szรผnet (${buttonText})`;
ย ย ย ย ย ย } else {
ย ย ย ย ย ย ย ย audioElement.pause();
ย ย ย ย ย ย ย ย buttonElement.innerHTML = `โถ๏ธ Lejรกtszรกs (${buttonText})`;
ย ย ย ย ย ย }
ย ย ย ย }

ย ย ย ย // ๐ GALรRIA FUNKCIรK
ย ย ย ยย
ย ย ย ย function populateGallery() {
ย ย ย ย ย ย galleryContainer.innerHTML = '';ย
ย ย ย ย ย ย galleryImages.forEach((image, index) => {
ย ย ย ย ย ย ย ย const thumbnailDiv = document.createElement('div');
ย ย ย ย ย ย ย ย thumbnailDiv.className = 'gallery-thumbnail';
ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย const img = document.createElement('img');
ย ย ย ย ย ย ย ย img.src = image.url;
ย ย ย ย ย ย ย ย img.alt = image.title;
ย ย ย ย ย ย ย ย img.dataset.index = index;
ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย // Kattintรกs a nagykรฉp megnyitรกsรกhoz
ย ย ย ย ย ย ย ย thumbnailDiv.onclick = () => openFullImage(image.url);
ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย thumbnailDiv.appendChild(img);
ย ย ย ย ย ย ย ย galleryContainer.appendChild(thumbnailDiv);
ย ย ย ย ย ย });
ย ย ย ย }
ย ย ย ยย
ย ย ย ย function openFullImage(imageUrl) {
ย ย ย ย ย ย fullImageDisplay.src = imageUrl;
ย ย ย ย ย ย fullImageDisplayModal.style.display = 'block';
ย ย ย ย ย ย galleryModal.style.display = 'none'; // Eltรผntetjรผk a bรฉlyegkรฉp modรกlt
ย ย ย ย ย ยย
ย ย ย ย ย ย // Hash-t adunk hozzรก az URL-hez, hogy a bรถngรฉszล "Vissza" gombja bezรกrja a nagykรฉp modรกlt.
ย ย ย ย ย ย history.pushState(null, null, '#full-image');
ย ย ย ย }
ย ย ย ยย
ย ย ย ย function closeFullImage() {
ย ย ย ย ย ย fullImageDisplayModal.style.display = 'none';
ย ย ย ย }

ย ย ย ย function openGallery() {
ย ย ย ย ย ย populateGallery();ย
ย ย ย ย ย ย galleryModal.style.display = "block";
ย ย ย ย ย ยย
ย ย ย ย ย ย // Hash-t adunk hozzรก az URL-hez, hogy a bรถngรฉszล "Vissza" gombja bezรกrja a modรกlt.
ย ย ย ย ย ย history.pushState(null, null, '#gallery');
ย ย ย ย }

ย ย ย ย function closeGallery() {
ย ย ย ย ย ย galleryModal.style.display = "none";
ย ย ย ย ย ย fullImageDisplayModal.style.display = 'none';ย
ย ย ย ย }

        // --- SรGร FUNKCIรK ---

        function showHelpMessage() {
            if (currentHelpIndex < HELP_MESSAGES.length) {
                helpTextDisplay.textContent = HELP_MESSAGES[currentHelpIndex];
                helpModal.style.display = 'block';

                // Ha ez az utolsรณ segรญtsรฉg, mรณdosรญtsuk a gombot
                if (currentHelpIndex === HELP_MESSAGES.length - 1) {
                    helpNextButton.textContent = 'รrtem';
                } else {
                    helpNextButton.textContent = 'Tovรกbb a kรถvetkezล segรญtsรฉgre';
                }
            } else {
                // Ha elfogyott a segรญtsรฉg, csak zรกrjuk be a modรกlt
                helpModal.style.display = 'none';
                currentHelpIndex = HELP_MESSAGES.length - 1; // Maradjon az utolsรณ indexen
            }
        }

        function nextHelpStep() {
            if (currentHelpIndex < HELP_MESSAGES.length - 1) {
                currentHelpIndex++;
                showHelpMessage();
            } else {
                // Zรกrรกs, ha az utolsรณ segรญtsรฉg is megvolt
                helpModal.style.display = 'none';
            }
        }

ย ย ย ย // ๐ MรDOSรTVA: Esemรฉnykezelล a bรถngรฉszล Vissza gombjรกra (Modรกlok zรกrรกsa)
ย ย ย ย window.addEventListener('popstate', function(event) {
ย ย ย ย ย ย if (fullImageDisplayModal.style.display === 'block') {
ย ย ย ย ย ย ย ย // Ha a nagykรฉp modรกl lรกthatรณ, csak azt zรกrjuk be, visszalรฉpve a galรฉriรกra
ย ย ย ย ย ย ย ย closeFullImage();
ย ย ย ย ย ย ย ย history.pushState(null, null, '#gallery');ย
ย ย ย ย ย ย } else if (galleryModal.style.display === 'block') {
ย ย ย ย ย ย ย ย // Ha a galรฉria modรกl lรกthatรณ, zรกrjuk be, รฉs tรกvolรญtsuk el a hash-t.
ย ย ย ย ย ย ย ย closeGallery();
ย ย ย ย ย ย ย ย history.pushState(null, null, window.location.pathname + window.location.search);
ย ย ย ย ย ย }
ย ย ย ย });
ย ย ย ยย
ย ย ย ย // --- TรRTรNET/INTERAKCIร FUNKCIรK ---

ย ย ย ย function updateButtons() {
ย ย ย ย ย ย stopAllAudio();ย

ย ย ย ย ย ย if (currentPartIndex < storyPages.length) {
ย ย ย ย ย ย ย ย // Normรกl lapozรณ mรณdย
ย ย ย ย ย ย ย ย interactionContainer.style.display = 'flex';
ย ย ย ย ย ย ย ย passwordContainer.classList.remove('visible');
ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย prevButton.disabled = currentPartIndex === 0;
ย ย ย ย ย ย ย ย nextButton.textContent = 'Folytatรกs';
ย ย ย ย ย ย } else {
ย ย ย ย ย ย ย ย // Kรณd kรฉrรฉs mรณdย
ย ย ย ย ย ย ย ย interactionContainer.style.display = 'none';
ย ย ย ย ย ย ย ย passwordContainer.classList.add('visible');
ย ย ย ย ย ย }
ย ย ย ย }

ย ย ย ย function updateAvatar(pageIndex) {
ย ย ย ย ย ย const speakerType = pageIndex < storyPages.length ? storyPages[pageIndex].speaker : 'Narrator';
ย ย ย ย ย ยย
ย ย ย ย ย ย if (speakerType === 'Anna') {
ย ย ย ย ย ย ย ย avatarImg.src = ANNA_AVATAR_URL;
ย ย ย ย ย ย ย ย avatarImg.alt = 'Anna avatar';
ย ย ย ย ย ย ย ย avatarImg.style.opacity = 1;
ย ย ย ย ย ย } else if (speakerType === 'Mark') {
ย ย ย ย ย ย ย ย avatarImg.src = MARK_AVATAR_URL;
ย ย ย ย ย ย ย ย avatarImg.alt = 'Mรกrk avatar';
ย ย ย ย ย ย ย ย avatarImg.style.opacity = 1;
ย ย ย ย ย ย } else {
ย ย ย ย ย ย ย ย // Narrator vagy kรณdbevitel: lรกthatatlan avatar
ย ย ย ย ย ย ย ย avatarImg.src = MARK_AVATAR_URL;ย
ย ย ย ย ย ย ย ย avatarImg.alt = 'Szereplล avatar';
ย ย ย ย ย ย ย ย avatarImg.style.opacity = 0;ย
ย ย ย ย ย ย }
ย ย ย ย }

ย ย ย ย function showStoryPart() {
ย ย ย ย ย ย messageDisplay.textContent = '';ย
ย ย ย ย ย ย contentBox.style.opacity = 0;

ย ย ย ย ย ย setTimeout(() => {
ย ย ย ย ย ย ย ย audioContainer1.style.display = 'none';
ย ย ย ย ย ย ย ย audioContainer2.style.display = 'none';
ย ย ย ย ย ย ย ย storyDisplay.innerHTML = '';ย

ย ย ย ย ย ย ย ย if (currentPartIndex < storyPages.length) {
ย ย ย ย ย ย ย ย ย ย const currentPage = storyPages[currentPartIndex];
ย ย ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย ย ย updateAvatar(currentPartIndex);ย
ย ย ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย ย ย if (currentPage.type === 'text' || currentPage.type === 'audio') {
ย ย ย ย ย ย ย ย ย ย ย ย storyDisplay.innerHTML = currentPage.content;
ย ย ย ย ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย ย ย ย ย if (currentPage.type === 'audio') {
ย ย ย ย ย ย ย ย ย ย ย ย ย ย if (currentPage.audioId === 1) {
ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย audioContainer1.style.display = 'block';
ย ย ย ย ย ย ย ย ย ย ย ย ย ย } else if (currentPage.audioId === 2) {
ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย ย audioContainer2.style.display = 'block';
ย ย ย ย ย ย ย ย ย ย ย ย ย ย }
ย ย ย ย ย ย ย ย ย ย ย ย }
ย ย ย ย ย ย ย ย ย ย }
ย ย ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย ย ย storyImage.src = currentPage.image || STABLE_IMAGE_URL;ย
ย ย ย ย ย ย ย ย ย ยย
ย ย ย ย ย ย ย ย } else {
ย ย ย ย ย ย ย ย ย ย // Kรณd bevitelnรฉl
ย ย ย ย ย ย ย ย ย ย updateAvatar(currentPartIndex);
ย ย ย ย ย ย ย ย ย ย storyDisplay.innerHTML = 'Add meg a kรณdot!';
ย ย ย ย ย ย ย ย }

ย ย ย ย ย ย ย ย contentBox.style.opacity = 1;
ย ย ย ย ย ย ย ย updateButtons();
ย ย ย ย ย ย }, 500);
ย ย ย ย }
ย ย ย ยย
ย ย ย ย // --- ESEMรNYKEZELลK ---
ย ย ย ยย
ย ย ย ย // MรDOSรTVA: A galรฉria 'X' gombja most a hash-t kezeli
ย ย ย ย document.querySelector('#galleryModal .close-gallery').onclick = () => {
ย ย ย ย ย ย ยhistory.back(); // Tรถrรถljรผk a #gallery hash-t
ย ย ย ย };
ย ย ย ยย
ย ย ย ย // MรDOSรTVA: A nagykรฉp 'X' gombja most a hash-t kezeli
ย ย ย ย document.querySelector('#full-image-display .close-gallery').onclick = () => {
ย ย ย ย ย ย ยhistory.back(); // Vissza a #gallery hash-re
ย ย ย ย };

ย ย ย ย nextButton.addEventListener('click', () => {
ย ย ย ย ย ย currentPartIndex++;
ย ย ย ย ย ย saveProgress();
ย ย ย ย ย ย showStoryPart();
ย ย ย ย });

ย ย ย ย prevButton.addEventListener('click', () => {
ย ย ย ย ย ย if (currentPartIndex > 0) {
ย ย ย ย ย ย ย ย currentPartIndex--;
ย ย ย ย ย ย ย ย saveProgress();
ย ย ย ย ย ย ย ย showStoryPart();
ย ย ย ย ย ย }
ย ย ย ย });
ย ย ย ยย
ย ย ย ย backButtonPassword.addEventListener('click', () => {
ย ย ย ย ย ย currentPartIndex = storyPages.length - 1;ย
ย ย ย ย ย ย saveProgress();
ย ย ย ย ย ย showStoryPart();
ย ย ย ย });

ย ย ย ย checkButton.addEventListener('click', () => {
ย ย ย ย ย ย const enteredPassword = passwordInput.value.trim();

ย ย ย ย ย ย if (enteredPassword === CORRECT_PASSWORD) {
ย ย ย ย ย ย ย ย messageDisplay.textContent = 'Kรณd elfogadva! Tovรกbb lรฉpรฉs...';
ย ย ย ย ย ย ย ย messageDisplay.style.color = '#00FF00';
ย ย ย ย ย ย ย ย localStorage.removeItem('gameProgress');ย
ย ย ย ย ย ย ย ย stopAllAudio();
ย ย ย ย ย ย ย ย setTimeout(() => {
ย ย ย ย ย ย ย ย ย ย window.location.href = SUCCESS_LINK;
ย ย ย ย ย ย ย ย }, 1000);
ย ย ย ย ย ย } else {
ย ย ย ย ย ย ย ย messageDisplay.textContent = 'Helytelen jelszรณ! Prรณbรกld รบjra.';
ย ย ย ย ย ย ย ย messageDisplay.style.color = '#FF4500';
ย ย ย ย ย ย ย ย passwordInput.value = '';
ย ย ย ย ย ย }
ย ย ย ย });

ย ย ย ย passwordInput.addEventListener('keypress', (e) => {
ย ย ย ย ย ย if (e.key === 'Enter') {
ย ย ย ย ย ย ย ย checkButton.click();ย
ย ย ย ย ย ย }
ย ย ย ย });
ย ย ย ยย
ย ย ย ย playAudioButton1.addEventListener('click', () => toggleAudio(storyAudio1, playAudioButton1, '1'));
ย ย ย ย playAudioButton2.addEventListener('click', () => toggleAudio(storyAudio2, playAudioButton2, '2'));

ย ย ย ยย
ย ย ย ย // 1. Kรฉpgalรฉria menรผ gomb esemรฉnykezelลje
ย ย ย ย imageButton.addEventListener('click', openGallery);
ย ย ย ยย
ย ย ย ย // 2. Tรฉrkรฉp menรผ gomb esemรฉnykezelลje
ย ย ย ย mapButton.addEventListener('click', () => {
ย ย ย ย ย ย window.open('https://www.google.com/maps/d/u/0/viewer?mid=1jaaxNriWkeGPzFJC4e--k0CU2QyBFx8&ll=47.453898687406785%2C19.01940665000001&z=13', '_blank');
ย ย ย ย });

        // ๐ รJ: Sรบgรณ esemรฉnykezelลk
        if (helpButton) {
            helpButton.addEventListener('click', showHelpMessage);
        }

        if (helpNextButton) {
            helpNextButton.addEventListener('click', nextHelpStep);
        }


ย ย ย ย window.onload = () => {
ย ย ย ย ย ย loadProgress();ย
ย ย ย ย ย ย showStoryPart();
ย ย ย ย };
ย ย </script>
</body>
</html>
